package mediainfo

import "testing"

func TestGetBasicInfo(t *testing.T) {
	//unit_test.go:9: &{FullPath:/Users/zen/container/HeartOfStone.mp4 PurgePath:/Users/zen/container FullName:HeartOfStone.mp4 PurgeName:HeartOfStone. PurgeExt:mp4 VInfo:{CreatingLibrary:{Name:MediaInfoLib Version:24.01 Url:https://mediaarea.net/MediaInfo} Media:{Ref:/Users/zen/container/HeartOfStone.mp4 Track:[{Type:General Count:349 StreamCount:1 StreamKind:General StreamKindString:General StreamKindID:0 VideoCount:1 AudioCount:1 TextCount:1 VideoFormatList:HEVC VideoFormatWithHintList:HEVC VideoCodecList:HEVC VideoLanguageList:English AudioFormatList:AAC LC AudioFormatWithHintList:AAC LC AudioCodecList:AAC LC AudioLanguageList:English AudioChannelsTotal:1 TextFormatList:Timed Text TextFormatWithHintList:Timed Text TextCodecList:Timed Text CompleteName:/Users/zen/container/HeartOfStone.mp4 FileNameExtension:HeartOfStone.mp4 FileName:HeartOfStone FileExtension:mp4 Format:MPEG-4 FormatString:MPEG-4 FormatExtensions:braw mov mp4 m4v m4a m4b m4p m4r 3ga 3gpa 3gpp 3gp 3gpp2 3g2 k3g jpm jpx mqv ismv isma ismt f4a f4b f4v FormatCommercial:MPEG-4 FormatProfile:Base Media InternetMediaType:video/mp4 CodecID:isom CodecIDString:isom (isom/iso2/mp41) CodecIDUrl:http://www.apple.com/quicktime/download/standalone.html CodecIDCompatible:isom/iso2/mp41 FileSize:771559469 FileSizeString:736 MiB FileSizeString1:736 MiB FileSizeString2:736 MiB FileSizeString3:736 MiB FileSizeString4:735.8 MiB Duration:7525.584 DurationString:2 h 5 min DurationString1:2 h 5 min 25 s 584 ms DurationString2:2 h 5 min DurationString3:02:05:25.584 DurationString4:02:05:25:14 DurationString5:02:05:25.584 (02:05:25:14) OverallBitRateMode:VBR OverallBitRateModeString:Variable OverallBitRate:820199 OverallBitRateString:820 kb/s FrameRate:24.000 FrameRateString:24.000 FPS FrameCount:180614 StreamSize:5283274 StreamSizeString:5.04 MiB (1%) StreamSizeString1:5 MiB StreamSizeString2:5.0 MiB StreamSizeString3:5.04 MiB StreamSizeString4:5.039 MiB StreamSizeString5:5.04 MiB (1%) StreamSizeProportion:0.00685 HeaderSize:36 DataSize:766276231 FooterSize:5283202 IsStreamable:No FileModifiedDate:2023-11-19 05:28:30 UTC FileModifiedDateLocal:2023-11-19 13:28:30 EncodedApplication:Lavf60.3.100 EncodedApplicationString:Lavf60.3.100 StreamOrder: ID: IDString: FormatInfo: FormatUrl: FormatLevel: FormatTier: CodecIDInfo: BitRate: BitRateString: Width: WidthString: Height: HeightString: SampledWidth: SampledHeight: PixelAspectRatio: DisplayAspectRatio: DisplayAspectRatioString: Rotation: FrameRateMode: FrameRateModeString: FrameRateNum: FrameRateDen: ColorSpace: ChromaSubsampling: ChromaSubsamplingString: ChromaSubsamplingPosition: BitDepth: BitDepthString: ScanType: ScanTypeString: BitsPixelFrame: EncodedLibrary: EncodedLibraryString: EncodedLibraryName: EncodedLibraryVersion: EncodedLibrarySettings: Language: LanguageString: LanguageString1: LanguageString2: LanguageString3: LanguageString4: ColourRange: ColourRangeSource: Extra:{CodecConfigurationBox: SourceDelay: SourceDelaySource:} FormatSettingsSBR: FormatSettingsSBRString: FormatAdditionalFeatures: SourceDuration: SourceDurationString: SourceDurationString1: SourceDurationString2: SourceDurationString3: SourceDurationString5: BitRateMode: BitRateModeString: Channels: ChannelsString: ChannelPositions: ChannelPositionsString2: ChannelLayout: SamplesPerFrame: SamplingRate: SamplingRateString: SamplingCount: SourceFrameCount: CompressionMode: CompressionModeString: SourceStreamSize: SourceStreamSizeString: SourceStreamSizeString1: SourceStreamSizeString2: SourceStreamSizeString3: SourceStreamSizeString4: SourceStreamSizeString5: SourceStreamSizeProportion: Default: DefaultString: AlternateGroup: AlternateGroupString: MuxingMode: Forced: ForcedString: EventsTotal:} {Type:Video Count:391 StreamCount:1 StreamKind:Video StreamKindString:Video StreamKindID:0 VideoCount: AudioCount: TextCount: VideoFormatList: VideoFormatWithHintList: VideoCodecList: VideoLanguageList: AudioFormatList: AudioFormatWithHintList: AudioCodecList: AudioLanguageList: AudioChannelsTotal: TextFormatList: TextFormatWithHintList: TextCodecList: CompleteName: FileNameExtension: FileName: FileExtension: Format:HEVC FormatString:HEVC FormatExtensions: FormatCommercial:HEVC FormatProfile:Main InternetMediaType:video/H265 CodecID:hvc1 CodecIDString: CodecIDUrl:http://www.itu.int/ CodecIDCompatible: FileSize: FileSizeString: FileSizeString1: FileSizeString2: FileSizeString3: FileSizeString4: Duration:7525.584 DurationString:2 h 5 min DurationString1:2 h 5 min 25 s 584 ms DurationString2:2 h 5 min DurationString3:02:05:25.584 DurationString4:02:05:25:14 DurationString5:02:05:25.584 (02:05:25:14) OverallBitRateMode: OverallBitRateModeString: OverallBitRate: OverallBitRateString: FrameRate:24.000 FrameRateString:24.000 FPS FrameCount:180614 StreamSize:702087140 StreamSizeString:670 MiB (91%) StreamSizeString1:670 MiB StreamSizeString2:670 MiB StreamSizeString3:670 MiB StreamSizeString4:669.6 MiB StreamSizeString5:670 MiB (91%) StreamSizeProportion:0.90996 HeaderSize: DataSize: FooterSize: IsStreamable: FileModifiedDate: FileModifiedDateLocal: EncodedApplication: EncodedApplicationString: StreamOrder:0 ID:1 IDString:1 FormatInfo:High Efficiency Video Coding FormatUrl:http://www.itu.int FormatLevel:4 FormatTier:Main CodecIDInfo:High Efficiency Video Coding BitRate:746347 BitRateString:746 kb/s Width:1920 WidthString:1 920 pixels Height:1080 HeightString:1 080 pixels SampledWidth:1920 SampledHeight:1080 PixelAspectRatio:1.000 DisplayAspectRatio:1.778 DisplayAspectRatioString:16:9 Rotation:0.000 FrameRateMode:CFR FrameRateModeString:Constant FrameRateNum:24 FrameRateDen:1 ColorSpace:YUV ChromaSubsampling:4:2:0 ChromaSubsamplingString:4:2:0 (Type 0) ChromaSubsamplingPosition:Type 0 BitDepth:8 BitDepthString:8 bits ScanType:Progressive ScanTypeString:Progressive BitsPixelFrame:0.015 EncodedLibrary:x265 - 3.5+1-f0c1022b6:[Linux][GCC 12.2.1][32 bit] 8bit+10bit+12bit EncodedLibraryString:x265 3.5+1-f0c1022b6:[Linux][GCC 12.2.1][32 bit] 8bit+10bit+12bit EncodedLibraryName:x265 EncodedLibraryVersion:3.5+1-f0c1022b6:[Linux][GCC 12.2.1][32 bit] 8bit+10bit+12bit EncodedLibrarySettings:cpuid=2 / frame-threads=2 / no-wpp / no-pmode / no-pme / no-psnr / no-ssim / log-level=2 / input-csp=1 / input-res=1920x1080 / interlace=0 / total-frames=0 / level-idc=0 / high-tier=1 / uhd-bd=0 / ref=3 / no-allow-non-conformance / no-repeat-headers / annexb / no-aud / no-hrd / info / hash=0 / no-temporal-layers / open-gop / min-keyint=24 / keyint=250 / gop-lookahead=0 / bframes=4 / b-adapt=2 / b-pyramid / bframe-bias=0 / rc-lookahead=20 / lookahead-slices=0 / scenecut=40 / hist-scenecut=0 / radl=0 / no-splice / no-intra-refresh / ctu=64 / min-cu-size=8 / no-rect / no-amp / max-tu-size=32 / tu-inter-depth=1 / tu-intra-depth=1 / limit-tu=0 / rdoq-level=0 / dynamic-rd=0.00 / no-ssim-rd / signhide / no-tskip / nr-intra=0 / nr-inter=0 / no-constrained-intra / strong-intra-smoothing / max-merge=3 / limit-refs=1 / no-limit-modes / me=1 / subme=2 / merange=57 / temporal-mvp / no-frame-dup / no-hme / weightp / no-weightb / no-analyze-src-pics / deblock=0:0 / sao / no-sao-non-deblock / rd=3 / selective-sao=4 / early-skip / rskip / no-fast-intra / no-tskip-fast / no-cu-lossless / b-intra / no-splitrd-skip / rdpenalty=0 / psy-rd=2.00 / psy-rdoq=0.00 / no-rd-refine / no-lossless / cbqpoffs=0 / crqpoffs=0 / rc=crf / crf=28.0 / qcomp=0.60 / qpstep=4 / stats-write=0 / stats-read=0 / ipratio=1.40 / pbratio=1.30 / aq-mode=2 / aq-strength=1.00 / cutree / zone-count=0 / no-strict-cbr / qg-size=32 / no-rc-grain / qpmax=69 / qpmin=0 / no-const-vbv / sar=1 / overscan=0 / videoformat=5 / range=0 / colorprim=2 / transfer=2 / colormatrix=2 / chromaloc=1 / chromaloc-top=0 / chromaloc-bottom=0 / display-window=0 / cll=0,0 / min-luma=0 / max-luma=255 / log2-max-poc-lsb=8 / vui-timing-info / vui-hrd-info / slices=1 / no-opt-qp-pps / no-opt-ref-list-length-pps / no-multi-pass-opt-rps / scenecut-bias=0.05 / hist-threshold=0.03 / no-opt-cu-delta-qp / no-aq-motion / no-hdr10 / no-hdr10-opt / no-dhdr10-opt / no-idr-recovery-sei / analysis-reuse-level=0 / analysis-save-reuse-level=0 / analysis-load-reuse-level=0 / scale-factor=0 / refine-intra=0 / refine-inter=0 / refine-mv=1 / refine-ctu-distortion=0 / no-limit-sao / ctu-info=0 / no-lowpass-dct / refine-analysis-type=0 / copy-pic=1 / max-ausize-factor=1.0 / no-dynamic-refine / no-single-sei / no-hevc-aq / no-svt / no-field / qp-adaptation-range=1.00 / scenecut-aware-qp=0conformance-window-offsets / right=0 / bottom=0 / decoder-max-rate=0 / no-vbv-live-multi-pass Language:en LanguageString:English LanguageString1:English LanguageString2:en LanguageString3:eng LanguageString4:en ColourRange:Limited ColourRangeSource:Stream Extra:{CodecConfigurationBox:hvcC SourceDelay: SourceDelaySource:} FormatSettingsSBR: FormatSettingsSBRString: FormatAdditionalFeatures: SourceDuration: SourceDurationString: SourceDurationString1: SourceDurationString2: SourceDurationString3: SourceDurationString5: BitRateMode: BitRateModeString: Channels: ChannelsString: ChannelPositions: ChannelPositionsString2: ChannelLayout: SamplesPerFrame: SamplingRate: SamplingRateString: SamplingCount: SourceFrameCount: CompressionMode: CompressionModeString: SourceStreamSize: SourceStreamSizeString: SourceStreamSizeString1: SourceStreamSizeString2: SourceStreamSizeString3: SourceStreamSizeString4: SourceStreamSizeString5: SourceStreamSizeProportion: Default: DefaultString: AlternateGroup: AlternateGroupString: MuxingMode: Forced: ForcedString: EventsTotal:} {Type:Audio Count:287 StreamCount:1 StreamKind:Audio StreamKindString:Audio StreamKindID:0 VideoCount: AudioCount: TextCount: VideoFormatList: VideoFormatWithHintList: VideoCodecList: VideoLanguageList: AudioFormatList: AudioFormatWithHintList: AudioCodecList: AudioLanguageList: AudioChannelsTotal: TextFormatList: TextFormatWithHintList: TextCodecList: CompleteName: FileNameExtension: FileName: FileExtension: Format:AAC FormatString:AAC LC FormatExtensions: FormatCommercial:AAC FormatProfile: InternetMediaType: CodecID:mp4a-40-2 CodecIDString: CodecIDUrl: CodecIDCompatible: FileSize: FileSizeString: FileSizeString1: FileSizeString2: FileSizeString3: FileSizeString4: Duration:7371.584 DurationString:2 h 2 min DurationString1:2 h 2 min 51 s 584 ms DurationString2:2 h 2 min DurationString3:02:02:51.584 DurationString4: DurationString5:02:02:51.584 OverallBitRateMode: OverallBitRateModeString: OverallBitRate: OverallBitRateString: FrameRate:46.875 FrameRateString:46.875 FPS (1024 SPF) FrameCount:345543 StreamSize:64149620 StreamSizeString:61.2 MiB (8%) StreamSizeString1:61 MiB StreamSizeString2:61 MiB StreamSizeString3:61.2 MiB StreamSizeString4:61.18 MiB StreamSizeString5:61.2 MiB (8%) StreamSizeProportion:0.08314 HeaderSize: DataSize: FooterSize: IsStreamable: FileModifiedDate: FileModifiedDateLocal: EncodedApplication: EncodedApplicationString: StreamOrder:1 ID:2 IDString:2 FormatInfo:Advanced Audio Codec Low Complexity FormatUrl: FormatLevel: FormatTier: CodecIDInfo: BitRate:69618 BitRateString:69.6 kb/s Width: WidthString: Height: HeightString: SampledWidth: SampledHeight: PixelAspectRatio: DisplayAspectRatio: DisplayAspectRatioString: Rotation: FrameRateMode: FrameRateModeString: FrameRateNum: FrameRateDen: ColorSpace: ChromaSubsampling: ChromaSubsamplingString: ChromaSubsamplingPosition: BitDepth: BitDepthString: ScanType: ScanTypeString: BitsPixelFrame: EncodedLibrary: EncodedLibraryString: EncodedLibraryName: EncodedLibraryVersion: EncodedLibrarySettings: Language:en LanguageString:English LanguageString1:English LanguageString2:en LanguageString3:eng LanguageString4:en ColourRange: ColourRangeSource: Extra:{CodecConfigurationBox: SourceDelay:-21 SourceDelaySource:Container} FormatSettingsSBR:No (Explicit) FormatSettingsSBRString:No (Explicit) FormatAdditionalFeatures:LC SourceDuration:7371.606 SourceDurationString:2 h 2 min SourceDurationString1:2 h 2 min 51 s 606 ms SourceDurationString2:2 h 2 min SourceDurationString3:02:02:51.606 SourceDurationString5:02:02:51.606 BitRateMode:CBR BitRateModeString:Constant Channels:1 ChannelsString:1 channel ChannelPositions:Front: C ChannelPositionsString2:1/0/0 ChannelLayout:M SamplesPerFrame:1024 SamplingRate:48000 SamplingRateString:48.0 kHz SamplingCount:353836032 SourceFrameCount:345544 CompressionMode:Lossy CompressionModeString:Lossy SourceStreamSize:64149648 SourceStreamSizeString:61.2 MiB (8%) SourceStreamSizeString1:61 MiB SourceStreamSizeString2:61 MiB SourceStreamSizeString3:61.2 MiB SourceStreamSizeString4:61.18 MiB SourceStreamSizeString5:61.2 MiB (8%) SourceStreamSizeProportion:0.08314 Default:Yes DefaultString:Yes AlternateGroup:1 AlternateGroupString:1 MuxingMode: Forced: ForcedString: EventsTotal:} {Type:Text Count:304 StreamCount:1 StreamKind:Text StreamKindString:Text StreamKindID:0 VideoCount: AudioCount: TextCount: VideoFormatList: VideoFormatWithHintList: VideoCodecList: VideoLanguageList: AudioFormatList: AudioFormatWithHintList: AudioCodecList: AudioLanguageList: AudioChannelsTotal: TextFormatList: TextFormatWithHintList: TextCodecList: CompleteName: FileNameExtension: FileName: FileExtension: Format:Timed Text FormatString:Timed Text FormatExtensions: FormatCommercial:Timed Text FormatProfile: InternetMediaType: CodecID:tx3g CodecIDString: CodecIDUrl:http://www.apple.com/quicktime/download/standalone.html CodecIDCompatible: FileSize: FileSizeString: FileSizeString1: FileSizeString2: FileSizeString3: FileSizeString4: Duration:7365.458 DurationString:2 h 2 min DurationString1:2 h 2 min 45 s 458 ms DurationString2:2 h 2 min DurationString3:02:02:45.458 DurationString4: DurationString5:02:02:45.458 OverallBitRateMode: OverallBitRateModeString: OverallBitRate: OverallBitRateString: FrameRate:0.359 FrameRateString:0.359 FPS FrameCount:2647 StreamSize:39435 StreamSizeString:38.5 KiB (0%) StreamSizeString1:39 KiB StreamSizeString2:39 KiB StreamSizeString3:38.5 KiB StreamSizeString4:38.51 KiB StreamSizeString5:38.5 KiB (0%) StreamSizeProportion:0.00005 HeaderSize: DataSize: FooterSize: IsStreamable: FileModifiedDate: FileModifiedDateLocal: EncodedApplication: EncodedApplicationString: StreamOrder:2 ID:3 IDString:3 FormatInfo: FormatUrl: FormatLevel: FormatTier: CodecIDInfo: BitRate:43 BitRateString:43 b/s Width: WidthString: Height: HeightString: SampledWidth: SampledHeight: PixelAspectRatio: DisplayAspectRatio: DisplayAspectRatioString: Rotation: FrameRateMode: FrameRateModeString: FrameRateNum: FrameRateDen: ColorSpace: ChromaSubsampling: ChromaSubsamplingString: ChromaSubsamplingPosition: BitDepth: BitDepthString: ScanType: ScanTypeString: BitsPixelFrame: EncodedLibrary: EncodedLibraryString: EncodedLibraryName: EncodedLibraryVersion: EncodedLibrarySettings: Language: LanguageString: LanguageString1: LanguageString2: LanguageString3: LanguageString4: ColourRange: ColourRangeSource: Extra:{CodecConfigurationBox: SourceDelay: SourceDelaySource:} FormatSettingsSBR: FormatSettingsSBRString: FormatAdditionalFeatures: SourceDuration: SourceDurationString: SourceDurationString1: SourceDurationString2: SourceDurationString3: SourceDurationString5: BitRateMode:VBR BitRateModeString:Variable Channels: ChannelsString: ChannelPositions: ChannelPositionsString2: ChannelLayout: SamplesPerFrame: SamplingRate: SamplingRateString: SamplingCount: SourceFrameCount: CompressionMode: CompressionModeString: SourceStreamSize: SourceStreamSizeString: SourceStreamSizeString1: SourceStreamSizeString2: SourceStreamSizeString3: SourceStreamSizeString4: SourceStreamSizeString5: SourceStreamSizeProportion: Default:Yes DefaultString:Yes AlternateGroup:3 AlternateGroupString:3 MuxingMode:sbtl Forced:No ForcedString:No EventsTotal:1323}]}}}
	bi := GetBasicInfo("/Users/zen/container/HeartOfStone.mp4")
	bi.InsertVideoInfo()
	t.Logf("%+v\n", bi)
}
